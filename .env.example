# =============================================================================
# SOLAR PV LLM AI - Environment Configuration Template
# =============================================================================
# Copy this file to .env and fill in the actual values
# NEVER commit .env file to version control

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://solar_pv_user:changeme@postgres:5432/solar_pv_db
DATABASE_POOL_SIZE=10
DATABASE_MAX_OVERFLOW=20
DATABASE_POOL_TIMEOUT=30
DATABASE_ECHO=false

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_URL=redis://redis:6379/0
REDIS_CACHE_URL=redis://redis:6379/1
REDIS_PASSWORD=changeme

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_PORT=8000
API_HOST=0.0.0.0
API_WORKERS=4
API_RELOAD=false
LOG_LEVEL=INFO
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# SECURITY
# =============================================================================
SECRET_KEY=changeme-generate-a-secure-random-string-min-32-chars
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60
API_KEY_HEADER=X-API-Key

# =============================================================================
# ML MODEL CONFIGURATION
# =============================================================================
MODEL_PATH=/app/models
MODEL_CACHE_DIR=/app/cache/models
TRAINING_BATCH_SIZE=32
LEARNING_RATE=0.001
MAX_EPOCHS=100
EARLY_STOPPING_PATIENCE=10
DEVICE=cuda  # cuda, cpu, or mps

# =============================================================================
# RAG (Retrieval-Augmented Generation) CONFIGURATION
# =============================================================================
RAG_MODEL=text-embedding-ada-002
RAG_CHUNK_SIZE=1000
RAG_CHUNK_OVERLAP=200
RAG_TOP_K=5
VECTOR_DB_TYPE=pinecone  # pinecone, weaviate, milvus, or pgvector
VECTOR_DB_URL=localhost:6333
VECTOR_DB_API_KEY=changeme

# =============================================================================
# LLM API CONFIGURATION
# =============================================================================
OPENAI_API_KEY=sk-changeme
ANTHROPIC_API_KEY=sk-ant-changeme
LLM_PROVIDER=openai  # openai or anthropic
LLM_MODEL=gpt-4-turbo-preview
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2000

# =============================================================================
# EXTERNAL DATA SOURCES
# =============================================================================
WEATHER_API_KEY=changeme
WEATHER_API_URL=https://api.openweathermap.org/data/2.5
PVLIB_DATA_PATH=/app/data/pvlib
NREL_API_KEY=changeme

# =============================================================================
# CELERY CONFIGURATION (Background Workers)
# =============================================================================
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json
CELERY_ACCEPT_CONTENT=json
CELERY_TIMEZONE=UTC
CELERY_ENABLE_UTC=true
CELERY_WORKER_CONCURRENCY=4
CELERY_WORKER_PREFETCH_MULTIPLIER=4

# =============================================================================
# STORAGE CONFIGURATION
# =============================================================================
STORAGE_TYPE=s3  # s3 or local
S3_BUCKET=solar-pv-llm-ai
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=changeme
S3_SECRET_ACCESS_KEY=changeme
S3_ENDPOINT_URL=  # Leave empty for AWS S3, or use MinIO endpoint
LOCAL_STORAGE_PATH=/app/data/storage

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
ENABLE_METRICS=true
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001
SENTRY_DSN=  # Optional: Sentry error tracking
ELASTICSEARCH_URL=http://elasticsearch:9200
KIBANA_URL=http://kibana:5601
LOG_FORMAT=json  # json or text

# =============================================================================
# EMAIL NOTIFICATIONS
# =============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=changeme@gmail.com
SMTP_PASSWORD=changeme
SMTP_FROM_EMAIL=noreply@solarpv-ai.com
SMTP_USE_TLS=true

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================
REACT_APP_API_URL=http://localhost:8000
REACT_APP_WS_URL=ws://localhost:8000
REACT_APP_ENV=development

# =============================================================================
# KUBERNETES/PRODUCTION CONFIGURATION
# =============================================================================
ENVIRONMENT=development  # development, staging, production
NAMESPACE=solar-pv-llm-ai
REPLICAS_BACKEND=3
REPLICAS_FRONTEND=2
REPLICAS_WORKER=2
AUTO_SCALING_ENABLED=true
MIN_REPLICAS=2
MAX_REPLICAS=10
TARGET_CPU_UTILIZATION=70

# =============================================================================
# BACKUP & DISASTER RECOVERY
# =============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=solar-pv-backups

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_INCREMENTAL_TRAINING=true
ENABLE_CITATION_TRACKING=true
ENABLE_AUTONOMOUS_DELIVERY=true
ENABLE_RATE_LIMITING=true
RATE_LIMIT_PER_MINUTE=60
