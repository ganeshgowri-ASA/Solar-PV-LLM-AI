# =============================================================================
# Solar PV LLM AI Platform - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control
# =============================================================================

# =============================================================================
# LLM API KEYS (Required for AI Features)
# =============================================================================
OPENAI_API_KEY=your_openai_api_key_here
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Optional: Hugging Face for embeddings and local models
HUGGINGFACE_API_KEY=your_huggingface_api_key_here

# =============================================================================
# VECTOR DATABASE - Pinecone Configuration
# =============================================================================
PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_ENVIRONMENT=us-west1-gcp
PINECONE_INDEX_NAME=solar-pv-documents
PINECONE_DIMENSION=1536

# =============================================================================
# NREL API (Required for PV Calculations)
# =============================================================================
NREL_API_KEY=your_nrel_api_key_here
NREL_BASE_URL=https://developer.nrel.gov/api

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/solar_pv_db
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=solar_pv_db
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# Redis Configuration (for caching and queues)
REDIS_URL=redis://localhost:6379/0
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
# Environment: development, staging, production
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_PREFIX=/api/v1

# Secret key for JWT tokens
SECRET_KEY=your-super-secret-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# CORS Configuration
CORS_ORIGINS=http://localhost:3000,http://localhost:8501

# =============================================================================
# STREAMLIT FRONTEND CONFIGURATION
# =============================================================================
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
BACKEND_URL=http://localhost:8000

# =============================================================================
# DOCUMENT PROCESSING
# =============================================================================
# Chunk sizes for text processing
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# Max file upload size (in MB)
MAX_UPLOAD_SIZE_MB=50

# Document storage paths
DOCUMENTS_DIR=data/documents
PROCESSED_DIR=data/processed
OUTPUT_DIR=data/output

# =============================================================================
# RAG ENGINE CONFIGURATION
# =============================================================================
# Embedding model configuration
EMBEDDING_MODEL=text-embedding-ada-002
EMBEDDING_DIMENSION=1536

# Retrieval configuration
TOP_K_RETRIEVAL=10
RERANKING_ENABLED=true
HYBRID_SEARCH_ENABLED=true

# BM25 weight for hybrid search (0-1)
BM25_WEIGHT=0.3

# =============================================================================
# MULTI-LLM ORCHESTRATOR
# =============================================================================
# Default LLM for general queries
DEFAULT_LLM_PROVIDER=anthropic

# Model selection
OPENAI_MODEL=gpt-4-turbo-preview
ANTHROPIC_MODEL=claude-3-sonnet-20240229

# Temperature settings
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=4096

# =============================================================================
# CITATION MANAGER
# =============================================================================
# Citation format: ieee, apa, chicago, mla
DEFAULT_CITATION_FORMAT=ieee

# Enable automatic citation extraction
AUTO_CITATION_ENABLED=true

# =============================================================================
# PV IMAGE ANALYSIS
# =============================================================================
# Enable GPU for image processing (requires CUDA)
USE_GPU=false

# CLIP model for classification
CLIP_MODEL_NAME=openai/clip-vit-base-patch32

# Vision LLM for detailed analysis
VISION_MODEL=gpt-4-vision-preview

# Max image size for processing (pixels)
MAX_IMAGE_SIZE=4096

# =============================================================================
# MULTI-AGENT SYSTEM
# =============================================================================
# Enable task routing between agents
MULTI_AGENT_ENABLED=true

# Agent timeout in seconds
AGENT_TIMEOUT=120

# Max concurrent tasks
MAX_CONCURRENT_TASKS=5

# =============================================================================
# MONITORING & LOGGING
# =============================================================================
# Prometheus metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Sentry error tracking
SENTRY_DSN=your_sentry_dsn_here
SENTRY_ENVIRONMENT=development

# Structured logging
LOG_FORMAT=json
LOG_FILE=logs/app.log

# =============================================================================
# CELERY CONFIGURATION (Background Tasks)
# =============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0
CELERY_TASK_SERIALIZER=json
CELERY_RESULT_SERIALIZER=json

# =============================================================================
# IEC PDF INGESTION PIPELINE
# =============================================================================
# Path to IEC standards documents
IEC_DOCUMENTS_PATH=data/iec_standards
IEC_INDEX_NAME=iec-standards

# Extraction settings
EXTRACT_TABLES=true
EXTRACT_FIGURES=true

# =============================================================================
# INCREMENTAL LEARNING
# =============================================================================
# Enable feedback collection
FEEDBACK_ENABLED=true

# Feedback storage
FEEDBACK_DB_PATH=data/feedback.db

# Retraining threshold (number of feedback items)
RETRAINING_THRESHOLD=100

# =============================================================================
# DOCKER / DEPLOYMENT CONFIGURATION
# =============================================================================
# Docker registry
DOCKER_REGISTRY=your-registry.azurecr.io
IMAGE_TAG=latest

# Kubernetes namespace
K8S_NAMESPACE=solar-pv-production
