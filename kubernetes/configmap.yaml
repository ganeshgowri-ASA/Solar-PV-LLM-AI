apiVersion: v1
kind: ConfigMap
metadata:
  name: solar-pv-config
  namespace: solar-pv-llm-ai
data:
  # Application Configuration
  ENVIRONMENT: "production"
  API_HOST: "0.0.0.0"
  API_PORT: "8000"
  API_WORKERS: "4"
  LOG_LEVEL: "INFO"

  # Database Configuration (non-sensitive)
  DATABASE_POOL_SIZE: "10"
  DATABASE_MAX_OVERFLOW: "20"
  DATABASE_POOL_TIMEOUT: "30"
  DATABASE_ECHO: "false"

  # ML Configuration
  MODEL_PATH: "/app/models"
  MODEL_CACHE_DIR: "/app/cache/models"
  TRAINING_BATCH_SIZE: "32"
  LEARNING_RATE: "0.001"
  MAX_EPOCHS: "100"
  EARLY_STOPPING_PATIENCE: "10"
  DEVICE: "cpu"

  # RAG Configuration
  RAG_MODEL: "text-embedding-ada-002"
  RAG_CHUNK_SIZE: "1000"
  RAG_CHUNK_OVERLAP: "200"
  RAG_TOP_K: "5"
  VECTOR_DB_TYPE: "pgvector"

  # LLM Configuration
  LLM_PROVIDER: "openai"
  LLM_MODEL: "gpt-4-turbo-preview"
  LLM_TEMPERATURE: "0.7"
  LLM_MAX_TOKENS: "2000"

  # Celery Configuration
  CELERY_TASK_SERIALIZER: "json"
  CELERY_RESULT_SERIALIZER: "json"
  CELERY_ACCEPT_CONTENT: "json"
  CELERY_TIMEZONE: "UTC"
  CELERY_WORKER_CONCURRENCY: "4"

  # Feature Flags
  ENABLE_INCREMENTAL_TRAINING: "true"
  ENABLE_CITATION_TRACKING: "true"
  ENABLE_AUTONOMOUS_DELIVERY: "true"
  ENABLE_RATE_LIMITING: "true"
  RATE_LIMIT_PER_MINUTE: "60"
  ENABLE_METRICS: "true"
